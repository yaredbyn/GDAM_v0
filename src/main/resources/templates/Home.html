<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width,initial-scale=1.0, minimum-scale=1.0">

	<title>Gdam-title</title>

	<link rel="stylesheet" type="text/css" th:href="@{/webjars/bootstrap/css/bootstrap.min.css}" />
	<script type="text/javascript" th:src="@{/webjars/jquery/jquery.min.js}"></script>
	<script type="text/javascript" th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>

	<style>
		.bg-dark {
			background-color: lightblue !important;
			/* Replaces dark background with light blue */
		}

		/*running text */
		.scrolling-text {
			width: 100%;
			overflow: hidden;
			white-space: nowrap;
			box-sizing: border-box;
		}

		.scrolling-text p {
			display: inline-block;
			animation: scroll-back-and-forth 10s ease-in-out infinite;
			/* Smooth back-and-forth motion */
		}

		@keyframes scroll-back-and-forth {
			0% {
				transform: translateX(0);
				/* Start at the left side */
			}

			50% {
				transform: translateX(calc(100vw - 100%));
				/* Move towards the right side but stay within viewport */
			}

			100% {
				transform: translateX(0);
				/* Return back to the left side */
			}
		}

		.carousel-section,
		.form-section,
		.payment-section {
			width: 40%;
			/* 20% space on both sides */
			margin: 0 auto;
			/* Center the section horizontally */
		}

		.carousel-section {
			height: 40vh;
			/* Increase carousel height */
			margin-bottom: 3px;
			/* Keep the 3px space between the carousel and form */
			padding: 0;
		}

		.carousel-item {
			width: 100%;
			height: 100%;
			/* Ensure the item fills the carousel section */
		}

		.carousel-item img {
			width: 100%;
			height: 100%;
			object-fit: cover;
			/* Ensure the image fills the section without distortion */
		}

		.form-section {
			height: 50vh;
			/* 50% of the page for the form */
			margin-bottom: 10px;
		}

		.payment-section {
			height: 20vh;
			/* 20% of the page reserved for payment system */
			text-align: center;
			background-color: #f0f0f0;
			display: flex;
			justify-content: center;
			align-items: center;
		}

		.sticky-footer {
			position: absolute;
			bottom: 0;
			width: 100%;
			height: 60px;
			background-color: #f8f9fa;
		}

		body,
		html {
			height: 100%;
		}

		.container-fluid {
			min-height: 100vh;
			position: relative;
			padding-bottom: 60px;
			/* Footer height */
		}

		/* Adjust carousel height for smaller screens and maintain 3px margin */
		@media (max-width: 768px) {

			.carousel-section,
			.form-section,
			.payment-section {
				width: 90%;
				/* Adjust width to 90% on smaller screens */
			}

			.carousel-section {
				height: 30vh;
				/* Reduce carousel height for smaller screens */
				margin-bottom: 3px;
				/* Keep the 3px space between carousel and form */
			}
		}
	</style>
</head>

<body>
	<div class="container-fluid d-flex flex-column min-vh-100">
		<div>
			<nav class="navbar navbar-expand-lg bg-dark navbar-dark">
				<!--logo-->
				<a class="navbar-brand" th:href="@{/}">
					<img th:src="@{/images/logo.png}" />
				</a>

				<!--sandwich button-->
				<button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#topNavbar">
					<span class="navbar-toggler-icon"></span>
				</button>

				<!-- nav bar-->
				<div class="collapse navbar-collapse" id="topNavbar">
					<ul class="navbar-nav">
						<li class="nav-item">
							<a class="nav-link text-dark" th:href="@{/users}">Users</a>
						</li>
						<li class="nav-item">
							<a class="nav-link text-dark" th:href="@{/articles}">Articles</a>
						</li>
						<li class="nav-item">
							<a class="nav-link text-dark" th:href="@{/menus}">Menus</a>
						</li>
						<li class="nav-item">
							<a class="nav-link text-dark" th:href="@{/settings}">Settings</a>
						</li>
					</ul>
				</div>
			</nav>
		</div>

		<div class="scrolling-text">
			<p>This fund is dedicated to the construction of a monastery.</p>
		</div>

		<!-- First Section: Bootstrap Carousel (40% of the page) -->
		<div class="carousel-section">
			<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
				<ol class="carousel-indicators">
					<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
					<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
					<li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
				</ol>
				<div class="carousel-inner">
					<div class="carousel-item active">
						<img class="d-block w-100" src="https://via.placeholder.com/800x400" alt="First slide">
					</div>
					<div class="carousel-item">
						<img class="d-block w-100" src="https://via.placeholder.com/800x400" alt="Second slide">
					</div>
					<div class="carousel-item">
						<img class="d-block w-100" src="https://via.placeholder.com/800x400" alt="Third slide">
					</div>
				</div>
				<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
					<span class="carousel-control-prev-icon" aria-hidden="true"></span>
					<span class="sr-only">Previous</span>
				</a>
				<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
					<span class="carousel-control-next-icon" aria-hidden="true"></span>
					<span class="sr-only">Next</span>
				</a>
			</div>
		</div>

		<!-- Second Section: Form (50% of the page) -->
		<div class="form-section">
			<h2 class="text-center">Registration Form</h2>
			<form id="donorForm">
				<div class="form-group">
					<label for="firstName">First Name</label>
					<input type="text" class="form-control" id="firstName" name="firstName"
						placeholder="Enter your first name">
				</div>
				<div class="form-group">
					<label for="lastName">Last Name</label>
					<input type="text" class="form-control" id="lastName" name="lastName"
						placeholder="Enter your last name">
				</div>
				<!-- Added Email Field -->
				<div class="form-group">
					<label for="email">Email</label>
					<input type="email" class="form-control" id="email" name="email" placeholder="Enter your email">
				</div>
				<!-- Added Amount Donated Field -->
				<div class="form-group">
					<label for="amountDonated">Amount Donated</label>
					<input type="number" step="0.01" class="form-control" id="amountDonated" name="amountDonated"
						placeholder="Enter donation amount">
				</div>
				<!-- Hidden CSRF Token Field (if necessary) -->
				<!-- <input type="hidden" name="_csrf" th:value="${_csrf.token}" /> -->
				<!-- Submit Button -->
				<button type="submit" class="btn btn-primary">Submit</button>
			</form>
		</div>

		<!-- Third Section: Placeholder for Payment System (20% of the page) -->
		<div class="payment-section">
			<h3>Payment System Integration Coming Soon</h3>
		</div>

		<!-- Footer -->
		<footer class="sticky-footer text-center py-3 bg-dark">
			<p>Gdam - Copyright &copy; Gdam</p>
		</footer>
	</div>

	<script type="text/javascript">

		$(document).ready(function () {
			$('#donorForm').on('submit', function (e) {
				e.preventDefault(); // Prevent default form submission

				var url = "[[@{/add}]]";
				/* var csrfValue = $("input[name='_csrf']").val(); */

				// Collect form data
				var form = $(this);
				var formData = form.serialize();

				// Include CSRF token if necessary
				// formData += '&_csrf=' + encodeURIComponent(csrfValue);

				$.post(url, formData, function (response) {
					if (response == "Successful") {
						// Form submission successful
						alert('Successfully submitted.');
						// Optionally, reset the form
						form[0].reset();
					} else {
						// Handle different responses from the server
						alert('Server response: ' + response);
					}
				}).fail(function (xhr, status, error) {
					// Handle error response
					alert('An error occurred: ' + error);
				});

				return false;
			});
		});
	</script>
	</script>
</body>

</html>